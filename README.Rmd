---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# scoccer

Easen the usage of scottish soccer data from data from http://www.football-data.co.uk. Notes of columns can be found at: http://www.football-data.co.uk/notes.txt

## Installation

You can install scoccer from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("steffenbank/scoccer")
```

## Basic usage

The most basic function within the packages are *sco_acquire*. Currently are two leagues available:

1. Scottish Premiership ("sco_pl")
2. Scottish Champtionship ("sco_ch")

Years from 2001 till now are available - season inputs may be specificed as "yyyy", for instance 2018/2019 season "1819". 

Data from Scottish Premiership 2017/2018:

```{r,echo = TRUE}
library(scoccer)
dplyr::glimpse(sco_acquire("1718", "sco_pl"))
```



## Standings
*sco_standings* may be used to compute standing at one of the league at a specific time.

What was the championship standing at 1st of March 2016?

```{r,echo = TRUE}
sco_standings("1516","sco_ch","2016-03-01")
```

## Descision support: Prediction the probability of both teams scoring
A relevant measure is whether a team will score. The package supports a bayesian-model approach. The prior is a logistic function with location of 0.5, corresponding to on average boths teams will score in every second game. This prior is computed using data from https://www.thestatsdontlie.com/football/stat-leaders/. Data input of the bayesian-model is acquired from the seasons data as year "yyyy".

What is the probability that both teams will score if Hamilton Academical F.C. plays at home? As the tibble below shows approximately 50/50. The figure shows the result of the bayesian apporach; grey lines beging probability of proportion of cases (case = both teams score), blue line being estimated median, the green line being the data and the red line beting the prior distribution. The bayesian-modeling returns no firm value but rather a distribution.

```{r,echo = TRUE}
sco_bayesian_btts("1819","sco_pl","hometeam","Hamilton")
```

## Model 1 functions: Prediciting scores of games
Relative strength between Ayr and Partick Thistle the last five games. May be used for model purposes:
```{r,echo = TRUE}
dplyr::glimpse(sco_relative_strength("1819","sco_ch","Ayr","Partick",5))
```

The strength is a measure of how well the team does at attacking/defending at home compared to other teams. Values above one corresponds to relatively better and values below relatively low. 



